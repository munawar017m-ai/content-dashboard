{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sumee/OneDrive/Desktop/content-generation/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error(\"Missing Supabase env variables\");\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,0MAAY,EAAC,aAAa"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sumee/OneDrive/Desktop/content-generation/app/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport \"./globals.css\";\nimport { useEffect, useState } from \"react\";\nimport { usePathname } from \"next/navigation\";\nimport { supabase } from \"@/lib/supabaseClient\";\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const pathname = usePathname();\n\n  const [showSidebar, setShowSidebar] = useState(false);\n  const [checkingAuth, setCheckingAuth] = useState(true); // ✅ prevents sidebar flicker\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n\n      // ✅ Sidebar only for logged-in users AND only on these routes\n      if (\n        user &&\n        (pathname === \"/library\" || pathname === \"/workspace\")\n      ) {\n        setShowSidebar(true);\n      } else {\n        setShowSidebar(false);\n      }\n\n      setCheckingAuth(false); // ✅ auth check finished\n    };\n\n    checkAuth();\n  }, [pathname]);\n\n  // ✅ Prevent UI flicker while auth is being checked\n  if (checkingAuth) {\n    return (\n      <html lang=\"en\">\n        <body className=\"min-h-screen bg-gray-100\"></body>\n      </html>\n    );\n  }\n\n  return (\n    <html lang=\"en\">\n      <body className=\"flex min-h-screen bg-gray-100\">\n        {/* ✅ Sidebar only when allowed */}\n        {showSidebar && (\n          <div className=\"w-64 bg-white shadow-lg p-6 flex flex-col\">\n            <h1 className=\"text-2xl font-bold mb-6\">Dashboard</h1>\n\n            <nav className=\"flex flex-col gap-4\">\n              <a\n                href=\"/library\"\n                className=\"text-lg hover:text-blue-600\"\n              >\n                Content Library\n              </a>\n\n              <a\n                href=\"/workspace\"\n                className=\"text-lg hover:text-blue-600\"\n              >\n                Content Workspace\n              </a>\n            </nav>\n          </div>\n        )}\n\n        {/* ✅ Main Page Content */}\n        <main className=\"flex-1 p-10\">{children}</main>\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;;;AALA;;;;;AAOe,SAAS,WAAW,EACjC,QAAQ,EAGT;;IACC,MAAM,WAAW,IAAA,oJAAW;IAE5B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC,OAAO,6BAA6B;IAErF,IAAA,0KAAS;gCAAC;YACR,MAAM;kDAAY;oBAChB,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,oIAAQ,CAAC,IAAI,CAAC,OAAO;oBAE/B,8DAA8D;oBAC9D,IACE,QACA,CAAC,aAAa,cAAc,aAAa,YAAY,GACrD;wBACA,eAAe;oBACjB,OAAO;wBACL,eAAe;oBACjB;oBAEA,gBAAgB,QAAQ,wBAAwB;gBAClD;;YAEA;QACF;+BAAG;QAAC;KAAS;IAEb,mDAAmD;IACnD,IAAI,cAAc;QAChB,qBACE,6LAAC;YAAK,MAAK;sBACT,cAAA,6LAAC;gBAAK,WAAU;;;;;;;;;;;IAGtB;IAEA,qBACE,6LAAC;QAAK,MAAK;kBACT,cAAA,6LAAC;YAAK,WAAU;;gBAEb,6BACC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAA0B;;;;;;sCAExC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;8CAID,6LAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;;;;;;;8BAQP,6LAAC;oBAAK,WAAU;8BAAe;;;;;;;;;;;;;;;;;AAIvC;GAxEwB;;QAKL,oJAAW;;;KALN"}}]
}